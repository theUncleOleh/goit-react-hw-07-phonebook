"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[471],{4924:function(t,e,n){n.d(e,{Z:function(){return s}});var a="PageHeading_title__1wPIF",r=n(184);function s(t){var e=t.text;return(0,r.jsx)("h1",{className:a,children:e})}},9471:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var a=n(4924),r=n(2791),s=n(3876),c={title:"ContactList_title__gpugJ",list:"ContactList_list__csErn",item:"ContactList_item__EZYHO",button:"ContactList_button__7kL4l"},o=n(9434),u=n(5861),l=n(7757),i=n.n(l),m=n(4569),f=n.n(m),d=n(8784);function p(){return h.apply(this,arguments)}function h(){return(h=(0,u.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f().get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}f().defaults.baseURL="https://629207f4cd0c91932b6c3fec.mockapi.io";var b=function(t){return t.contacts.filter},v=function(t){return t.contacts.items};console.log(v);n(1385),n(5812);var x=n(885),_={form:"Form_form__e1yzW",button:"Form_button__8NOIT"},g=n(184);function j(t){var e=t.onSubmit,n=(0,r.useState)(""),a=(0,x.Z)(n,2),s=a[0],c=a[1],o=(0,r.useState)(""),u=(0,x.Z)(o,2),l=u[0],i=u[1],m=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":c(a);break;case"number":i(a);break;default:return}},f=function(){c(""),i("")};return(0,g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(s,l),f()},className:_.form,children:[(0,g.jsxs)("label",{htmlFor:"",className:_.label,children:["Name",(0,g.jsx)("input",{autoComplete:"off",className:_.input,type:"text",name:"name",value:s,onChange:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,g.jsxs)("label",{htmlFor:"",className:_.label,children:["Number",(0,g.jsx)("input",{autoComplete:"off",className:_.input,type:"tel",name:"number",value:l,onChange:m,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,g.jsx)("button",{type:"submit",className:_.button,children:"Add contact"})]})}var N={label:"Filter_label__vEd1E"};function C(){var t=(0,o.v9)(b);console.log(t);var e=(0,o.I0)();return(0,g.jsxs)("label",{className:N.label,children:["Filter",(0,g.jsx)("input",{type:"text",value:t,onChange:function(t){e((0,d.hX)(t.target.value)),console.log(t.currentTarget.value)},className:N.input})]})}function k(){var t=(0,o.I0)(),e=(0,o.v9)(v),n=(0,o.v9)(b);console.log(e),console.log(n);return(0,r.useEffect)((function(){t(function(){var t=(0,u.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(d.$0()),t.prev=1,t.next=4,p();case 4:n=t.sent,e(d.v2(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(d.I7(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(j,{onSubmit:function(n){var a=n.name.toLocaleLowerCase();if(e.find((function(t){return t.name.toLocaleLowerCase()===a})))return s.Am.error("".concat(n.name," is already in contacts"));t(function(t,e){return function(n){n(d.sT());var a={name:t,phone:e};f().post("/contacts",a).then((function(t){var e=t.data;return n(d.TL(e))})).catch((function(t){return n(d.wg(t))}))}}(n)),s.Am.success("".concat(n.name," was added to contacts!"))}}),(0,g.jsx)(C,{}),(0,g.jsx)("h2",{className:c.title,children:"Contacts"}),e.length>0&&(0,g.jsx)("ul",{className:c.list,children:e.map((function(t){return(0,g.jsxs)("li",{className:c.item,children:[(0,g.jsxs)("p",{className:c.graf,children:[t.name,": ",t.phone]}),(0,g.jsx)("button",{type:"button",className:c.button,onClick:function(){t.id},children:"Delete"})]},t.id)}))}),(0,g.jsx)(s.Ix,{})]})}function w(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.Z,{text:"Phonebook"}),(0,g.jsx)(k,{})]})}}}]);
//# sourceMappingURL=471.8f164781.chunk.js.map